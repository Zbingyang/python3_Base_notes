# 网络基础编程

### 计算机数据通信过程

```
mac地址/物理地址：在生产队额时候就唯一确定的一个序列号
```

### OS参考模型

```
应用层：所有能产生网络流量的程序
表示层：数据传输前的压缩，加密，确定编码方式等操作
回话层：查看木马
传输层：可看传输，不可靠传输，流量控制
网络层：负责选择最佳路径，规划ip地址
数据链路层：帧的开始和结尾，透明传输，查错校验
物理层：接口标准，电器标准
```

### TCP/IP协议

```
* 提供了可靠传输服务，不传丢（握手机制），不传错（自带校验和，发过去重新计算校验和）
* 流量控制：能够让发送方和接收方找到一个合适的速率，滑动窗口协议。
* 拥塞控制：如果网络拥堵，减少窗口就减少拥堵，通过统计往返时间

●面向连接的话肯定就有两个过程：建立连接（通过三次握手），拆除连接（无论多少次握手都无法确保正确拆除：两军对垒难题）
●稳定可靠就是差错控制，流量控制和拥塞控制。

●差错控制：一般使用，超时重传机制，加入发送方没有收到接收方关于正确接收的回复，在等了一个特定的时间段后就会认为发送失败了，然后重新发送。因为IP协议只是提供了一种尽力而为的传输，也就是说他并不保证数据一定正确传输过去，所以需要传输层来进行差错控制。就好像快递员也有可能把快递弄丢一样，如果这家公司的经理很久都没有收到对方的回复，那他肯定。。。

●流量控制：我们总希望数据发送的足够快，但是发送方发的足够快，接收方并不一定可以接收这么快，因为有很多别的主机，别的进程也给他发送数据，他不一定能够一下子处理，有可能缓存空间不一定够用了，这时候就需要用流量控制了。当接收方感觉缓存受不鸟的时候就给发送方传输一个数据，来告诉发送方，我的接受窗口是**（如200），然后发送方就把自己的发送窗口设置为200。有可能他之前的发送窗口是1000，设置成200后，发送数据相对以前更慢了一些，接收方就来得及接收。（关于滑动窗口的概念可以参考go-back-nARQ协议，滑动窗口越大，可以认为传输速度越快）。

●拥塞控制：拥塞控制是TCP非常非常重要的一个性质。拥塞的意思就是对某一网络资源的占用超过了了该资源的所能提供的能力，网络的性能就会变坏。就好像街道上堵车一样，来的车太多了，车道不够用，大家就会挤在一起，数据发出去很慢。衡量拥塞的一个常用指标就是吞吐量。
```

### UDP传输协议

```
* 不需要建立可靠传输
* 不需要建立回话
* 不需要流量控制
```



